(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{2317:function(t,e,n){"use strict";n.r(e),function(t){var a,i,o,r=n(6),s=n(2),l=n.n(s),c=n(2396),u=n(131),p=n(0),d=n(1866),m=l.a.div.withConfig({displayName:"ActivityCalendar_ActivityCalendarWrapper",componentId:"sc-1368jg2"})(a||(a=Object(r.__makeTemplateObject)(["\n  padding: 0 "," "," ",";\n  height: 172px;\n"],["\n  padding: 0 "," "," ",";\n  height: 172px;\n"])),d.g.PadL,d.g.PadL,d.g.PadL),h=l.a.ul.withConfig({displayName:"ActivityCalendar_ActivityCalendarLabels",componentId:"sc-gbezz1"})(i||(i=Object(r.__makeTemplateObject)(["\n  color: ",";\n  display: flex;\n  padding: 22px "," 10px ",";\n"],["\n  color: ",";\n  display: flex;\n  padding: 22px "," 10px ",";\n"])),d.b.TextLight,d.g.PadL,d.g.PadL),f=l.a.li.withConfig({displayName:"ActivityCalendar_ActivityCalendarLabel",componentId:"sc-1mxpxkc"})(o||(o=Object(r.__makeTemplateObject)(["\n  display: inline-block;\n  flex: 1;\n  text-align: center;\n  font-size: ",";\n  font-weight: ",";\n"],["\n  display: inline-block;\n  flex: 1;\n  text-align: center;\n  font-size: ",";\n  font-weight: ",";\n"])),d.d.FontSizeS,d.d.FontWeightMedium),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=function(e){function n(t){var n=e.call(this,t)||this,a=new Date;return a.setFullYear((new Date).getFullYear()-1),a.setDate(a.getDate()+1),n.start=a,n.labels=g.map((function(t,e){return g[(e+a.getMonth()+1)%12]})),n}return Object(r.__extends)(n,e),n.prototype.componentDidMount=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,a=this;return Object(r.__generator)(this,(function(i){return e=this.props.username,window.setTimeout((function(){return Object(r.__awaiter)(a,void 0,void 0,(function(){var a,i;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return a=n.cache[e]||t.Users.getActivity({userName:e}),n.cache[e]=a,[4,a];case 1:return i=o.sent(),(new c).init({itemSelector:this.container,domain:"week",subDomain:"day",weekStartOnMonday:!1,tooltip:!0,animationDuration:0,range:53,domainGutter:0,domainMargin:1,itemName:["",""],cellSize:13,legendCellSize:13,legendCellPadding:4,start:this.start,data:i,afterLoadData:this.parseData.bind(this),subDomainDateFormat:this.formatTooltip.bind(this),domainLabelFormat:"",legend:[5,10,15,20]}),[2]}}))}))})),[2]}))}))},n.prototype.formatTooltip=function(t){var e=this.formatDate(t);if(!this.activityLookup)return e;var n=this.activityLookup[this.formatDate(t)];return n&&(n.totalSubmissions&&(e+="<br />"+n.totalSubmissions+" "+u("submission",n.totalSubmissions)),n.totalScripts&&(e+="<br />"+n.totalScripts+" script "+u("run",n.totalScripts)),n.totalDatasets&&(e+="<br />"+n.totalDatasets+" dataset "+u("version",n.totalDatasets)),n.totalDiscussions&&(e+="<br />"+n.totalDiscussions+"  "+u("comment",n.totalDiscussions))),e},n.prototype.parseData=function(t){var e,n,a={};this.activityLookup={};try{for(var i=Object(r.__values)(t),o=i.next();!o.done;o=i.next()){var s=o.value,l=s.totalDatasets+s.totalDiscussions+s.totalScripts+s.totalSubmissions,c=new Date(s.date.toString()),u=c.getTime()/1e3;this.activityLookup[this.formatDate(c)]=s,a[u.toString().split(".")[0]]=l}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return a},n.prototype.formatDate=function(t){return g[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},n.prototype.render=function(){var t=this;return p.createElement(m,{className:"activity-calendar--"+this.props.tier},p.createElement(h,null,this.labels.map((function(t,e){return p.createElement(f,{key:e},t)}))),p.createElement("div",{ref:function(e){return t.container=e}}))},n.cache={},n}(p.Component);e.default=b}.call(this,n(779))}}]);